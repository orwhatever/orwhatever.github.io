<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Exercise 4 part 4</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../bootstrap/favicon.ico">

    <!-- Bootstrap core CSS -->
    <link href="../../bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="../../bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../bootstrap/theme.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]>
    <script src="../../bootstrap/assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../bootstrap/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="../../angel/webgl-utils.js"></script>
    <script type="text/javascript" src="../../angel/initShaders.js"></script>
    <script type="text/javascript" src="../../angel/MV.js"></script>
    <script type="text/javascript" src="part04.js"></script>

    <script id="vertex-shader" type="x-shader/x-vertex">
    attribute vec4 vPosition, vNormal;

    varying vec4 color;

    uniform mat4 projectionMatrix;
    uniform mat4 modelViewMatrix;
    uniform vec4 lightPosition;

    uniform vec4 Ka;
    uniform vec4 Kd;
    uniform vec4 Ks;
    uniform float shininess;
    uniform vec4 eye;

    void main()
    {
        vec3 Le = vec3(1.0, 1.0, 1.0);

        vec3 L = normalize(lightPosition.xyz - vPosition.xyz);
        vec3 normal = normalize(vNormal.xyz);

        vec3 v = normalize(eye.xyz);
        vec3 r = -reflect(L,normal);

        vec3 ambientColor = Ka.xyz * Le;
        vec3 spectralColor = Ks.xyz * pow(max(dot(r,v), 0.0),shininess) * Le;

        vec3 diffuseColor = Kd.xyz * max(dot(normal, L), 0.0) * Le;


        gl_Position = projectionMatrix * modelViewMatrix * vPosition;
        color = vec4(ambientColor+diffuseColor+spectralColor,1);
    }




    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
    precision mediump float;
    varying vec4 color;

    void main()
    {
        gl_FragColor = color;
    }




    </script>

</head>
<body role="document">

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container col-md-12">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../main.html">Home</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">Exercise 1<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="../../Exercise01/Part1-2/part01-02.html">Part 1 & 2</a></li>
                        <li><a href="../../Exercise01/Part03/part03.html">Part 3</a></li>
                        <li><a href="../../Exercise01/Part04/part04.html">Part 4</a></li>
                        <li><a href="../../Exercise01/Part05/part05.html">Part 5</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">Exercise 2<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="../../Exercise02/Part01/part01.html">Part 1</a></li>
                        <li><a href="../../Exercise02/Part02/part02.html">Part 2</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">Exercise 3<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="../../Exercise03/Part01/part01.html">Part 1</a></li>
                        <li><a href="../../Exercise03/Part02/part02.html">Part 2</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">Exercise 4<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="../../Exercise04/Part1-2/part1-2.html">Part 1 & 2</a></li>
                        <li><a href="../../Exercise04/Part03/part03.html">Part 3</a></li>
                        <li><a href="../../Exercise04/Part04/part04.html">Part 4</a></li>
                        <li><a href="../../Exercise04/Part05/part05.html">Part 5</a></li>
                    </ul>
                </li>


                <li><a href="../../Exercise05/Part01/part01.html">Exercise 5</a></li>


                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">Exercise 6<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="../../Exercise06/Part01/part01.html">Part 1 & 2</a></li>
                        <li><a href="../../Exercise06/Part03/part03.html">Part 3 & 4</a></li>
                    </ul>
                </li>


                <li><a href="../../Exercise07/Part01/part01.html">Exercise 7</a></li>


                <li><a href="../../Exercise08/Part01/part01.html">Exercise 8</a></li>


                <li><a href="../../Exercise09/Part01/part01.html">Exercise 9</a></li>

                <li><a href="../../Exercise10/Part01/part01.html">Exercise 10</a></li>

                <li><a href="../../Project/Part01/part01.html">Final Project</a></li>

            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</nav>



<div class="container theme-showcase" role="main">


    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <h2 class="text-center">Phong shading on vertex shader</h2></div>
    </div>
    <div class="row">

        <div class="col-md-6">

            <div>Ka</div>
            <div class="control">
                <input id="KaSlider" type="text"
                       data-slider-min="0.01" data-slider-max="1.0"
                       data-slider-step="0.1" data-slider-value="0.01"/>
            </div>


            <div>Kd</div>
            <div class="control">
                <input id="KdSlider" type="text"
                       data-slider-min="0.01" data-slider-max="1.0"
                       data-slider-step="0.1" data-slider-value="0.8"/>
            </div>
            <div>Ks</div>
            <div class="control">
                <input id="KsSlider" type="text"
                       data-slider-min="0.01" data-slider-max="1.0"
                       data-slider-step="0.1" data-slider-value="0.9"/>
            </div>
            <div>Shininess</div>
            <div class="control">
                <input id="shininessSlider" type="text"
                       data-slider-min="1" data-slider-max="30"
                       data-slider-step="1" data-slider-value="20"/>
            </div>

            <div class="control">
                <button class="btn btn-primary btn-default" id="increaseSubsBtn">Increase Subdivisions</button>
                <button class="btn btn-primary btn-default" id="decreaseSubsBtn">Decrease Subdivisions</button>
            </div>
        </div>

        <div class="col-md-6 ">
            <canvas class="center-block" id="gl-canvas" width="500" height="500">
                <!-- The following message is displayed if the browser doesn’t
                -- support HTML5 -->
                Sorry; your web browser does not support HTML5’s canvas element.
            </canvas>
        </div>
    </div>
    <div class="row">

        <div class="col-md-12 text-justify"><p>

            <p>The existence of some Phong shading on a point is highly dependent on the position of the point to be
                shaded compared to the light source. By implementing the whole logic of Phong shading in the vertex
                shader, the fragments of a triangular face share in a sense the position relative to the light source.
                As a result in the fragment shader it's the intensity that gets interpolated and not actually the
                property of actually having a Phong shading. This quite observable in low level subdivisions, where big
                parts of the triangles get illuminated</p>
        </div>
    </div>
</div>
<!-- /container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../../bootstrap/assets/js/docs.min.js"></script>
<script src="../../bootstrap/slider/bootstrap-slider.min.js"></script>
<link href="../../bootstrap/slider/css/bootstrap-slider.min.css" rel="stylesheet">
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../bootstrap/assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>